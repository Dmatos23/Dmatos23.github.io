<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Validador de Cédula</title>

  <!-- Fuente -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-1: #071422;
      --bg-2: #0b2330;
      --card: #0f1b26;
      --muted: #94a3b8;
      --accent: #ffd166;
      --accent-2: #06b6d4;
      --success: #22c55e;
      --danger: #ef4444;
      --glass: rgba(255,255,255,0.03);
      --radius: 14px;
      --maxw: 680px;
    }

    /* Reset simple */
    * { box-sizing: border-box; }
    html,body { height: 100%; margin: 0; }

    body{
      font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background:
        radial-gradient(800px 300px at 10% 10%, rgba(6,182,212,0.04), transparent 8%),
        radial-gradient(600px 240px at 90% 90%, rgba(255,209,102,0.03), transparent 6%),
        linear-gradient(180deg, var(--bg-1) 0%, var(--bg-2) 100%);
      color: #e6eef8;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 28px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Contenedor central */
    .container {
      width: 100%;
      max-width: var(--maxw);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: var(--radius);
      padding: 26px;
      box-shadow: 0 12px 40px rgba(2,6,23,0.6);
      border: 1px solid rgba(255,255,255,0.04);
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    header {
      display:flex;
      align-items:center;
      gap:12px;
    }
    header h1 {
      margin:0;
      font-size:20px;
      color:#fff;
      letter-spacing:0.2px;
    }
    header p {
      margin:0;
      color:var(--muted);
      font-size:13px;
    }

    form {
      margin-top: 6px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
    }

    label { color: var(--muted); font-size:14px; }

    input[type="text"] {
      padding: 12px 14px;
      font-size: 15px;
      width: 320px;
      max-width:100%;
      text-align: center;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.04);
      background: rgba(255,255,255,0.01);
      color: #eaf6ff;
      outline: none;
      transition: box-shadow .14s ease, transform .08s ease, border-color .12s ease;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.01);
    }
    input[type="text"]:focus {
      box-shadow: 0 6px 20px rgba(6,182,212,0.06);
      border-color: rgba(6,182,212,0.28);
      transform: translateY(-1px);
    }

    .controls {
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:center;
      flex-wrap:wrap;
      width:100%;
    }

    button {
      padding: 10px 18px;
      font-size: 15px;
      cursor: pointer;
      margin-top: 4px;
      border-radius: 10px;
      border: 0;
      background: linear-gradient(90deg, var(--accent-2), #3b82f6 60%);
      color: #021019;
      font-weight:600;
      box-shadow: 0 8px 24px rgba(6,182,212,0.06);
      transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
    }
    button:active{ transform: translateY(1px); }
    button[disabled]{ opacity:0.5; cursor:not-allowed; transform:none; box-shadow:none; }

    #resultado {
      margin-top: 6px;
      font-size: 15px;
      min-height: 22px;
      text-align:center;
      padding:8px 10px;
      border-radius:8px;
    }
    .error { color: var(--danger); background: rgba(239,68,68,0.06); border:1px solid rgba(239,68,68,0.06); }
    .exito { color: var(--success); background: rgba(34,197,94,0.06); border:1px solid rgba(34,197,94,0.06); }
    .info { color: var(--muted); background: rgba(255,255,255,0.01); border:1px solid rgba(255,255,255,0.02); }

    /* Pie con ejemplo */
    .example {
      margin-top:6px;
      text-align:center;
      color:var(--muted);
      font-size:13px;
    }

    /* Responsive */
    @media (max-width:420px) {
      input[type="text"]{ width: 100%; text-align:left; padding-left:12px; }
      form { align-items:stretch; }
      .controls { justify-content:stretch; }
      button { width:100%; }
    }
  </style>
</head>
<body>
  <div class="container" role="main" aria-labelledby="titulo">
    <header>
      <div>
        <h1 id="titulo">Validador de Cédula</h1>
        <p>Valida cédulas dominicanas (algoritmo tipo Luhn).</p>
      </div>
    </header>

    <form id="formulario" onsubmit="return false;">
        <label for="cedula">Ingrese su cédula:</label>
        <input type="text" id="cedula" name="cedula" maxlength="17" >
        <div class="controls">
          <button type="button" onclick="validarCedula()">Validar</button>
        </div>
    </form>

    <div id="resultado" class="info" aria-live="polite">Esperando entrada...</div>
    <div class="example">Formato aceptado: <code>40226758296</code> o <code>402-2675829-6</code></div>
  </div>

  <script>
    function validarCedula() {
        var cedulaInput = document.getElementById("cedula").value;
        var resultadoDiv = document.getElementById("resultado");
        
        // Normalizar: eliminar todo lo que no sea dígito
        var cedula = cedulaInput.replace(/\D/g, '');

        if (cedula.length === 0) {
            resultadoDiv.textContent = "Por favor ingresa una cédula.";
            resultadoDiv.className = "info";
            return;
        }

        if (cedula.length !== 11) {
            resultadoDiv.textContent = "La cédula debe contener 11 dígitos (sin guiones).";
            resultadoDiv.className = "error";
            return;
        }

        if (validarCedulaDominicana(cedula)) {
            resultadoDiv.textContent = "La cédula es válida.";
            resultadoDiv.className = "exito";
        } else {
            resultadoDiv.textContent = "La cédula no es válida.";
            resultadoDiv.className = "error";
        }
    }

    function validarCedulaDominicana(cedula) {
        if (!/^\d{11}$/.test(cedula)) return false;

        var suma = 0;
        for (var i = 0; i < cedula.length; i++) {
            var digito = parseInt(cedula.charAt(i), 10);
            // factor: 1 en posiciones pares (0,2,4...), 2 en impares (1,3,5...)
            var factor = (i % 2 === 0) ? 1 : 2;
            var producto = digito * factor;

            // si producto tiene dos cifras, sumar sus dígitos (ej: 12 -> 1+2 = 3)
            // equivalencia rápida: si producto > 9 entonces producto = producto - 9
            if (producto > 9) producto = producto - 9;

            suma += producto;
        }

        // válidación final: suma % 10 === 0
        return (suma % 10) === 0;
    }
  </script>
</body>
</html>
